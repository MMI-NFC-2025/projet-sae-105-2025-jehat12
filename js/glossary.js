!function(){"use strict";const e=document.getElementById("searchInput"),t=document.querySelectorAll(".glossary-filter"),s=document.querySelectorAll(".glossary-term"),r=document.getElementById("countNumber"),o=document.getElementById("noResults");let n="all",a="";function l(){let e=0;s.forEach(t=>{const s=t.dataset.category,r=t.dataset.term,o=t.querySelector(".glossary-term__title").textContent.toLowerCase(),l=t.querySelector(".glossary-term__definition").textContent.toLowerCase(),c="all"===n||s===n,i=a.toLowerCase(),d=""===a||r.includes(i)||o.includes(i)||l.includes(i);c&&d?(t.classList.remove("glossary-term--hidden"),e++):t.classList.add("glossary-term--hidden")}),r.textContent=e,o.style.display=0===e?"block":"none"}e&&(e.addEventListener("input",e=>{a=e.target.value,l()}),e.addEventListener("focus",()=>{e.parentElement.style.transform="scale(1.02)"}),e.addEventListener("blur",()=>{e.parentElement.style.transform="scale(1)"})),t.forEach(e=>{e.addEventListener("click",()=>{t.forEach(e=>e.classList.remove("glossary-filter--active")),e.classList.add("glossary-filter--active"),n=e.dataset.category,l(),e.style.transform="scale(0.95)",setTimeout(()=>{e.style.transform=""},150)})}),e&&e.addEventListener("keydown",t=>{"Escape"===t.key&&(e.value="",a="",l(),e.blur())}),t.forEach(e=>{e.addEventListener("click",()=>{const e=document.querySelector(".glossary-content");e&&setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"start"})},100)})});const c=new IntersectionObserver(e=>{e.forEach((e,t)=>{e.isIntersecting&&(setTimeout(()=>{e.target.style.opacity="1",e.target.style.transform="translateX(0)"},50*t),c.unobserve(e.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});s.forEach(e=>{e.style.opacity="0",e.style.transform="translateX(-30px)",e.style.transition="opacity 0.5s ease, transform 0.5s ease",c.observe(e)}),r&&(r.textContent=s.length),function(){const e={all:s.length,medical:0,chemistry:0,biology:0,history:0};s.forEach(t=>{const s=t.dataset.category;e.hasOwnProperty(s)&&e[s]++}),console.log("ðŸ“Š Statistiques du glossaire:",e)}(),document.addEventListener("keydown",t=>{if((t.ctrlKey||t.metaKey)&&"k"===t.key&&(t.preventDefault(),e&&(e.focus(),e.select())),document.activeElement!==e){const e={1:"all",2:"medical",3:"chemistry",4:"biology",5:"history"};if(e[t.key]){t.preventDefault();const s=e[t.key],r=document.querySelector(`[data-category="${s}"]`);r&&r.click()}}}),e&&e.addEventListener("input",()=>{e.value.length>0?e.parentElement.classList.add("searching"):e.parentElement.classList.remove("searching")}),console.log("âœ… Glossaire initialisÃ©: "+s.length+" termes")}();